<script type="text/javascript">
  RED.nodes.registerType("ps-strategy-heat-capacitor", {
    category: "Power Saver",
    color: "#FFCC66",
    defaults: {
      name: { value: "Heat capacitor" },
      timeHeat1C: { value: 50, required: true, align: "left" },
      timeCool1C: { value: 50, required: true, align: "left" },
      maxTempAdjustment: { value: 0.5, required: true, align: "left" },
      boostTempHeat: { value: 0, required: true, align: "left" },
      boostTempCool: { value: 0, required: true, align: "left" },
      minSavings: { value: 0.08, required: true, align: "left" },
      setpoint: { value: 23, required: true, align: "left" },
    },
    inputs: 1,
    outputs: 3,
    color: "#FFCC66",
    icon: "font-awesome/fa-bar-chart",
    label: function () {
      return this.name || "Heat capacitor";
    },
    outputLabels: ["T", "dT", "schedule"],
  });
</script>

<script type="text/html" data-template-name="ps-strategy-heat-capacitor">
  <div class="form-row">
    <label for="node-input-name"><i class="icon-tag"></i> Name</label>
    <input type="text" id="node-input-name" placeholder="Name" />
  </div>
  <div class="form-row">
    <label for="node-input-timeHeat1C"><i class="icon-tag"></i> Time +1C [minutes]</label>
    <input type="text" id="node-input-timeHeat1C" />
  </div>
  <div class="form-row">
    <label for="node-input-timeCool1C"><i class="icon-tag"></i> Time -1C [minutes]</label>
    <input type="text" id="node-input-timeCool1C" />
  </div>
  <div class="form-row">
    <label for="node-input-setpoint"><i class="icon-tag"></i> Setpoint</label>
    <input type="text" id="node-input-setpoint" />
  </div>
  <div class="form-row">
    <label for="node-input-maxTempAdjustment"><i class="icon-tag"></i> Max temp adj.</label>
    <input type="text" id="node-input-maxTempAdjustment" />
  </div>
  <div class="form-row">
    <label for="node-input-minSavings"><i class="icon-tag"></i> Min Savings</label>
    <input type="text" id="node-input-minSavings" />
  </div>
  <div class="form-row">
    <label for="node-input-boostTempHeat"><i class="icon-tag"></i> Heating Boost [C]</label>
    <input type="text" id="node-input-boostTempHeat" />
  </div>
  <div class="form-row">
    <label for="node-input-boostTempCool"><i class="icon-tag"></i> Cooling Boost [C]</label>
    <input type="text" id="node-input-boostTempCool" />
  </div>
</script>

<script type="text/html" data-help-name="ps-strategy-heat-capacitor">
  <p>A node for the reduction of electricity costs by moving heating efforts towards times when electricity is cheap</p>

  <p>.</p>

  <ul>
    <li><b>Time +1C [minutes]</b> - Time required by the system to increase 1C</li>
    <li><b>Time -1C [minutes]</b> - Time to loose 1C when no heat is applied</li>
    <li><b>Heating Boost [C]</b> - Added to the climate setpoint in the heating period</li>
    <li><b>Cooling Boost [C]</b> - Subtracted from the climate setpoint in the cooling period</li>
    <li><b>Setpoint [C]</b> - The ideal temperature</li>
    <li><b>Max temp adj.</b> - Max temperature adjustment</li>
    <li><b>Min Savings </b> - Min savings per cycle</li>
  </ul>
</script>
